<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shahaba - Sistem Presensi</title>
    <link rel="icon" href="../assets/icons/priority.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
    <!-- Header dengan judul dan deskripsi -->
    <div class="curve">
        <h1>Shahaba</h1>
        <h2>Sistem Pendataan Presensi</h2>
    </div>
    <!-- Container untuk tombol-tombol -->
    <div class="landing-button-container">
        <h3><i class="fas fa-arrow-right-to-bracket"></i> Masuk Aplikasi</h3>
        <div class="landing-buttoninner-container">
            <button onclick="window.location.href='../index.html'" class="landing-button">
                <i class="fas fa-users"></i> App Presensi Pegawai
            </button>
            <button onclick="window.location.href='https://muchrifqi.github.io/shahaba-kepegawaian-presensi/pesertadidik.html'" class="landing-button">
                <i class="fas fa-qrcode"></i> App Scan QR Peserta Didik
            </button>
            <button id="adminButton" class="landing-button">
                <i class="fas fa-lock"></i> Admin
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        &copy; 2025 Shahaba SD & Prasekolah
    </footer>

    <script>
        const ADMIN_PASSWORD_HASH = "b251b590aa7474295b09b586463278ef3032e9c75f1500d34458afb96b2fc7e1"; // Hash SHA-256

        function hashPassword(password) {
            return CryptoJS.SHA256(password).toString(CryptoJS.enc.Hex);
        }

        // Event listener untuk tombol Admin
        document.getElementById('adminButton').addEventListener('click', async () => {
            const { value: password } = await Swal.fire({
                title: 'Masukkan Password Admin',
                input: 'password',
                inputPlaceholder: 'Ketik password...',
                showCancelButton: true,
                confirmButtonText: 'Masuk',
                cancelButtonText: 'Batal',
                inputValidator: (value) => {
                    if (!value) {
                        return 'Password tidak boleh kosong!';
                    }
                }
            });

            if (password) {
                const enteredPasswordHash = hashPassword(password);
                if (enteredPasswordHash === ADMIN_PASSWORD_HASH) {
                    // Password benar, arahkan ke admin.html
                    window.location.href = "../admin.html";
                } else {
                    // Password salah
                    Swal.fire('Gagal!', 'Password salah.', 'error');
                }
            }
        });
    </script>
</body>
</html>